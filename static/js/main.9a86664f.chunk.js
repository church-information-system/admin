(this.webpackJsonpchurch_information_system=this.webpackJsonpchurch_information_system||[]).push([[0],{34:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(11),s=a.n(n),i=a(35),r=a.n(i),c=(a(41),a(10)),l=(a(42),a(0)),u=a.n(l),d=a(3),o=(a(44),a(13)),p=a.n(o),h=a.p+"static/media/print.70b985ba.svg",f=a.p+"static/media/edit.640a02d0.svg",b=a.p+"static/media/archive.899a083e.svg",m=a(16);function g(e){return v.apply(this,arguments)}function v(){return(v=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)(Object(m.b)(ne,t));case 2:return a=e.sent,n=[],a.forEach((function(e){var t=e.data();t.id=e.id,n.push(t)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return j.apply(this,arguments)}function j(){return(j=Object(d.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.a)(Object(m.b)(ne,t),a);case 3:n=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=!1;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function O(e,t,a){return x.apply(this,arguments)}function x(){return(x=Object(d.a)(u.a.mark((function e(t,a,n){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.g)(Object(m.d)(Object(m.b)(ne,t),a),n);case 3:s=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s=!1;case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function y(e,t){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.c)(Object(m.d)(Object(m.b)(ne,t),a));case 3:n=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=!1;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function C(e,t,a,n){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(u.a.mark((function e(t,a,n,s){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,e.prev=1,e.next=4,w(a,s);case 4:if(!e.sent){e.next=9;break}return e.next=7,y(t,n);case 7:if(!e.sent){e.next=9;break}i=!0;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i=!1;case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function B(e,t){return A.apply(this,arguments)}function A(){return(A=Object(d.a)(u.a.mark((function e(t,a){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("admins");case 2:n=e.sent,s=0;case 4:if(!(s<n.length)){e.next=10;break}if(n[s].username!==t||n[s].password!==a){e.next=7;break}return e.abrupt("return",n[s].id);case 7:s++,e.next=4;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,a){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(u.a.mark((function e(t,a,n){var s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("admins");case 2:if(s=e.sent,(i=s.find((function(e){return e.id=t}))).password!==a){e.next=15;break}return i.password=n,e.next=8,O("admins",t,i);case 8:if(!e.sent){e.next=12;break}return e.abrupt("return",{success:!0,message:"Password Changed, Please login again"});case 12:return e.abrupt("return",{success:!1,message:"Failed to Update password"});case 13:e.next=16;break;case 15:return e.abrupt("return",{success:!1,message:"Old password didn't match"});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return document.getElementById(e).value}function S(e){return document.getElementById(e)}function R(e,t){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.fire({title:t,icon:a});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var s=a[n];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""}a(34);var H=a(4);function E(){return Object(H.jsx)("div",{className:"loader-container",children:Object(H.jsx)("div",{className:"mini-loader"})})}function F(){return Object(H.jsx)("div",{className:"loader"})}function I(e){var t=e.record,a=e.selected,s=e.requestRefresh,i=e.isArchive,r=Object(n.useState)(!1),l=Object(c.a)(r,2),o=l[0],m=l[1],g=Object(n.useState)(!1),v=Object(c.a)(g,2),w=v[0],j=v[1];function x(e){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m((function(){return!0})),e.next=3,O(a+(i?"_archive":""),t.id,n);case 3:if(!e.sent){e.next=8;break}R("Record Updated!","success"),s(),e.next=9;break;case 8:R("Failed to update record","error");case 9:m(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j((function(){return!0})),e.next=3,C(a,"".concat(a,"_archive"),t.id,t);case 3:if(!e.sent){e.next=8;break}R("Record Archived!","success"),s(),e.next=9;break;case 8:R("Failed to Archive record","error");case 9:j((function(){return!1}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){p.a.fire({title:"Enter Details",html:'<h3>Enter Husband details:</h4><span class="swal2-input-label">Name</span><input id="husbandName" class="swal2-input"><span class="swal2-input-label">Age</span><input id="husbandAge" class="swal2-input" type="number" min="1"><span class="swal2-input-label">Birthday</span><input id="husbandBirthday" class="swal2-input" type="date"><span class="swal2-input-label">Place of Birth</span><input id="husbandPlaceOfBirth" class="swal2-input"><span class="swal2-input-label">Religion</span><input id="husbandReligion" class="swal2-input"><br></br><h3>Enter Wife details:</h4><span class="swal2-input-label">Name</span><input id="wifeName" class="swal2-input"><span class="swal2-input-label">Age</span><input id="wifeAge" class="swal2-input" type="number" min="1"><span class="swal2-input-label">Birthday</span><input id="wifeBirthday" class="swal2-input" type="date"><span class="swal2-input-label">Place of Birth</span><input id="wifePlaceOfBirth" class="swal2-input"><span class="swal2-input-label">Religion</span><input id="wifeReligion" class="swal2-input"><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div><div id="invalidAge" class="error-text"> </div>',didOpen:function(){S("husbandName").value=t.husbandName,S("husbandAge").value=t.husbandAge,S("husbandBirthday").value=t.husbandBirthday,S("husbandPlaceOfBirth").value=t.husbandPlaceOfBirth,S("husbandReligion").value=t.husbandReligion,S("wifeName").value=t.wifeName,S("wifeAge").value=t.wifeAge,S("wifeBirthday").value=t.wifeBirthday,S("wifePlaceOfBirth").value=t.wifePlaceOfBirth,S("wifeReligion").value=t.wifeReligion},preConfirm:function(){S("husbandAge").value=S("husbandAge").value.replace(/[^0-9]/g,""),S("wifeAge").value=S("wifeAge").value.replace(/[^0-9]/g,"");var e=M("husbandName"),a=M("husbandAge"),n=M("husbandBirthday"),s=M("husbandPlaceOfBirth"),i=M("husbandReligion"),r=M("wifeName"),c=M("wifeAge"),l=M("wifeBirthday"),u=M("wifePlaceOfBirth"),d=M("wifeReligion"),o=a.length>0&&c.length>0&&a>0&&c>0;S("invalidAge").innerHTML=o?" ":"Please make sure that the age you entered is a valid number";var p=e.length>0&&a.length>0&&n.length>0&&s.length>0&&i.length>0&&r.length>0&&c.length>0&&l.length>0&&u.length>0&&d.length>0;S("empty").innerHTML=p?" ":"Complete all fields";var h=e===t.husbandName&&a===t.husbandAge&&n===t.husbandBirthday&&s===t.husbandPlaceOfBirth&&i===t.husbandReligion&&r===t.wifeName&&c===t.wifeAge&&l===t.wifeBirthday&&u===t.wifePlaceOfBirth&&d===t.wifeReligion;return S("nothingChanged").innerHTML=h?"Change atleast one value":" ",p&&!h&&o},showCancelButton:!0}).then((function(e){e.isConfirmed&&x({husbandName:M("husbandName"),husbandAge:M("husbandAge"),husbandBirthday:M("husbandBirthday"),husbandPlaceOfBirth:M("husbandPlaceOfBirth"),husbandReligion:M("husbandReligion"),wifeName:M("wifeName"),wifeAge:M("wifeAge"),wifeBirthday:M("wifeBirthday"),wifePlaceOfBirth:M("wifePlaceOfBirth"),wifeReligion:M("wifeReligion")})}))}return Object(H.jsxs)("div",{className:"content-item",children:[Object(H.jsx)("div",{className:"record-datas",children:Object.keys(t).sort((function(e,t){return e>t})).map((function(e){return"id"!==e?function(e,t){try{e=(e=e.charAt(0).toUpperCase()+e.slice(1)).match(/[A-Z][a-z]+|[0-9]+/g).join(" ")}catch(a){}return Object(H.jsxs)("div",{className:"key-value-pair",children:[Object(H.jsxs)("span",{className:"key",children:[e,":"]}),Object(H.jsx)("span",{className:"value",children:t})]},e)}(e,t[e]):null}))}),Object(H.jsx)("span",{children:Object(H.jsxs)("div",{className:"icons-container",children:["post"!==a&&"donation"!==a?Object(H.jsx)("div",{className:"icon-container",children:Object(H.jsx)("img",{src:h,title:"print",alt:"",className:"icon",onClick:function(){return p.a.fire({title:"print"})}})}):"",Object(H.jsx)("div",{className:"icon-container",children:o?Object(H.jsx)(E,{}):Object(H.jsx)("img",{src:f,title:"edit",alt:"",className:"icon",onClick:function(){switch(a){default:N();break;case"death":p.a.fire({title:"Edit Details",html:'<span class="swal2-input-label">Fullname</span><input id="fullname" class="swal2-input"><span class="swal2-input-label" type="date">Day Of Death</span><input id="dayOfDeath" class="swal2-input" type="date"><span class="swal2-input-label">Day Of Birth</span><input id="dayOfBirth" class="swal2-input" type="date"><span class="swal2-input-label">Date Of Mass</span><input id="dateOfMass" class="swal2-input" type="date"><span class="swal2-input-label">Age</span><input id="age" class="swal2-input" type="number" min="1"><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div><div id="invalidAge" class="error-text"> </div>',didOpen:function(){S("fullname").value=t.name,S("dayOfDeath").value=t.dayOfDeath,S("dayOfBirth").value=t.dayOfBirth,S("dateOfMass").value=t.dateOfMass,S("age").value=t.age},preConfirm:function(){S("age").value=S("age").value.replace(/[^0-9]/g,"");var e=M("fullname"),a=M("dayOfBirth"),n=M("dayOfDeath"),s=M("dateOfMass"),i=M("age"),r=i.length>0&&i>0;S("invalidAge").innerHTML=r?" ":"Please make sure that the age you entered is a valid number";var c=e.length>0&&a.length>0&&n.length>0&&s.length>0&&i.length>0;S("empty").innerHTML=c?" ":"Complete all fields";var l=e===t.name&&a===t.dayOfBirth&&n===t.dayOfDeath&&s===t.dateOfMass&&i===t.age;return S("nothingChanged").innerHTML=l?"Change atleast one value":" ",c&&!l&&r},showCancelButton:!0}).then((function(e){if(e.isConfirmed){var t=M("fullname"),a=M("dayOfBirth");x({name:t,dayOfDeath:M("dayOfDeath"),dayOfBirth:a,dateOfMass:M("dateOfMass"),age:M("age")})}}));break;case"donation":p.a.fire({title:"Edit Details",html:'<span class="swal2-input-label">Fullname</span><input id="fullname" class="swal2-input"><span class="swal2-input-label">Address</span><input id="address" class="swal2-input"><span class="swal2-input-label">Phone</span><input id="phone" class="swal2-input" type="tel" pattern="[+]{1}[0-9]{11,14}"><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div><div id="invalidPhone" class="error-text"> </div>',didOpen:function(){S("fullname").value=t.name,S("address").value=t.address,S("phone").value=t.phone},preConfirm:function(){S("phone").value=S("phone").value.replace(/[^0-9]/g,"");var e=M("fullname"),a=M("address"),n=M("phone"),s=11===n.length;S("invalidPhone").innerHTML=s?" ":"Please make sure that the phone number you entered is a valid phone number, Sample: 09xxxxxxxxx";var i=e.length>0&&a.length>0&&n.length>0;S("empty").innerHTML=i?" ":"Complete all fields";var r=e===t.name&&a===t.address&&n===t.phone;return S("nothingChanged").innerHTML=r?"Change atleast one value":" ",i&&!r&&s},showCancelButton:!0}).then((function(e){e.isConfirmed&&x({name:M("fullname"),address:M("address"),phone:M("phone")})}));break;case"post":p.a.fire({title:"Enter Details",html:'<div id="empty" class="error-text"> </div><span class="swal2-input-label">Title</span><input id="title" class="swal2-input"><span class="swal2-input-label">Content</span><textarea id="post-content" class="swal2-input"></textarea><div id="nothingChanged" class="error-text"> </div>',showCancelButton:!0,didOpen:function(){S("title").value=t.title,S("post-content").value=t.content},preConfirm:function(){var e=M("title"),a=M("post-content"),n=e.length>0&&a.length>0;S("empty").innerHTML=n?" ":"Complete all fields";var s=e===t.title&&a===t.content;return S("nothingChanged").innerHTML=s?"Change atleast one value":" ",n&&!s}}).then((function(e){if(e.isConfirmed){var t=new Date;x({title:M("title"),date:"".concat(t.getFullYear(),"-").concat(t.getMonth().toString().padStart(2,0),"-").concat(t.getDate()),content:M("post-content")})}}))}}})}),"post"===a||"donation"===a||i?"":Object(H.jsx)("div",{className:"icon-container",children:w?Object(H.jsx)(E,{}):Object(H.jsx)("img",{src:b,title:"archive",alt:"archive",className:"icon",onClick:function(){return p.a.fire({title:"Are you sure you want to archive this record?",icon:"warning",showCancelButton:!0,confirmButtonText:"archive"}).then((function(e){e.isConfirmed&&function(){k.apply(this,arguments)}()}))}})})]})})]})}var _=a.p+"static/media/add.c687829d.svg";a(57);function q(e){var t=e.toggleArchive;return Object(H.jsxs)("label",{className:"switch",children:[Object(H.jsx)("input",{type:"checkbox",onChange:function(e){t(e.target.checked)}}),Object(H.jsx)("span",{className:"slider round"})]})}function U(e){var t=e.requestRefresh,a=e.search,s=e.show,i=e.selected,r=e.toggleArchive,l=e.isArchive,o=Object(n.useState)(!1),h=Object(c.a)(o,2),f=h[0],b=h[1];function m(e){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b((function(){return!0})),e.next=3,w(i+(l?"_archive":""),a);case 3:if(!e.sent){e.next=8;break}R("Record Added!","success"),t(),e.next=9;break;case 8:R("Failed to add record","error");case 9:b((function(){return!1}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){p.a.fire({title:"Enter Details",html:'<h3>Enter Husband details:</h4><span class="swal2-input-label">Name</span><input id="husbandName" class="swal2-input"><span class="swal2-input-label">Age</span><input id="husbandAge" class="swal2-input" type="number" min="1"><span class="swal2-input-label">Birthday</span><input id="husbandBirthday" class="swal2-input" type="date"><span class="swal2-input-label">Place of Birth</span><input id="husbandPlaceOfBirth" class="swal2-input"><span class="swal2-input-label">Religion</span><input id="husbandReligion" class="swal2-input"><br></br><h3>Enter Wife details:</h4><span class="swal2-input-label">Name</span><input id="wifeName" class="swal2-input"><span class="swal2-input-label">Age</span><input id="wifeAge" class="swal2-input" type="number" min="1"><span class="swal2-input-label">Birthday</span><input id="wifeBirthday" class="swal2-input" type="date"><span class="swal2-input-label">Place of Birth</span><input id="wifePlaceOfBirth" class="swal2-input"><span class="swal2-input-label">Religion</span><input id="wifeReligion" class="swal2-input"><div id="empty" class="error-text"> </div><div id="invalidAge" class="error-text"> </div>',showCancelButton:!0,preConfirm:function(){S("husbandAge").value=S("husbandAge").value.replace(/[^0-9]/g,""),S("wifeAge").value=S("wifeAge").value.replace(/[^0-9]/g,"");var e=M("husbandName"),t=M("husbandAge"),a=M("husbandBirthday"),n=M("husbandPlaceOfBirth"),s=M("husbandReligion"),i=M("wifeName"),r=M("wifeAge"),c=M("wifeBirthday"),l=M("wifePlaceOfBirth"),u=M("wifeReligion"),d=t.length>0&&r.length>0&&t>0&&r>0;S("invalidAge").innerHTML=d?" ":"Please make sure that the age you entered is a valid number";var o=e.length>0&&t.length>0&&a.length>0&&n.length>0&&s.length>0&&i.length>0&&r.length>0&&c.length>0&&l.length>0&&u.length>0;return S("empty").innerHTML=o?" ":"Complete all fields",o&&d}}).then((function(e){e.isConfirmed&&m({husbandName:M("husbandName"),husbandAge:M("husbandAge"),husbandBirthday:M("husbandBirthday"),husbandPlaceOfBirth:M("husbandPlaceOfBirth"),husbandReligion:M("husbandReligion"),wifeName:M("wifeName"),wifeAge:M("wifeAge"),wifeBirthday:M("wifeBirthday"),wifePlaceOfBirth:M("wifePlaceOfBirth"),wifeReligion:M("wifeReligion")})}))}return s?Object(H.jsxs)("div",{className:"action-bar",children:["post"!==i?Object(H.jsxs)("span",{className:"search-bar",children:[Object(H.jsx)("input",{type:"text",className:"search-field",id:"search-field"}),Object(H.jsx)("div",{className:"action-button",title:"Search",onClick:function(){return a(document.getElementById("search-field").value)},children:Object(H.jsx)("h4",{children:"Search"})})]}):"","post"!==i&&"donation"!==i?Object(H.jsxs)("span",{className:"archive-bar",children:[Object(H.jsx)(q,{toggleArchive:r}),Object(H.jsx)("h4",{children:"Toggle Archive"})]}):"",Object(H.jsxs)("span",{className:"action-button add-record",title:"Add",onClick:function(){switch(i){default:v();break;case"death":p.a.fire({title:"Add Details",html:'<span class="swal2-input-label">Fullname</span><input id="fullname" class="swal2-input"><span class="swal2-input-label">Day Of Death</span><input id="dayOfDeath" class="swal2-input" type="date"><span class="swal2-input-label">Day Of Birth</span><input id="dayOfBirth" class="swal2-input" type="date"><span class="swal2-input-label">Date Of Mass</span><input id="dateOfMass" class="swal2-input" type="date"><span class="swal2-input-label">Age</span><input id="age" class="swal2-input" type="number" min="1"><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div><div id="invalidAge" class="error-text"> </div>',preConfirm:function(){S("age").value=S("age").value.replace(/[^0-9]/g,"");var e=M("fullname"),t=M("dayOfBirth"),a=M("dayOfDeath"),n=M("dateOfMass"),s=M("age"),i=s.length>0&&s>0;S("invalidAge").innerHTML=i?" ":"Please make sure that the age you entered is a valid number";var r=e.length>0&&t.length>0&&a.length>0&&n.length>0&&s.length>0;return S("empty").innerHTML=r?" ":"Complete all fields",r&&i},showCancelButton:!0}).then((function(e){if(e.isConfirmed){var t=M("fullname"),a=M("dayOfBirth");m({name:t,dayOfDeath:M("dayOfDeath"),dayOfBirth:a,dateOfMass:M("dateOfMass"),age:M("age")})}}));break;case"donation":p.a.fire({title:"Edit Details",html:'<span class="swal2-input-label">Fullname</span><input id="fullname" class="swal2-input"><span class="swal2-input-label">Address</span><input id="address" class="swal2-input"><span class="swal2-input-label">Phone</span><input id="phone" class="swal2-input" type="tel"><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div><div id="invalidPhone" class="error-text"> </div>',preConfirm:function(){S("phone").value=S("phone").value.replace(/[^0-9]/g,"");var e=M("fullname"),t=M("address"),a=M("phone"),n=11===a.length;S("invalidPhone").innerHTML=n?"":"Please make sure that the phone number you entered is a valid phone number, Sample: 09xxxxxxxxx";var s=e.length>0&&t.length>0&&a.length>0;return S("empty").innerHTML=s?" ":"Complete all fields",s&&n},showCancelButton:!0}).then((function(e){e.isConfirmed&&m({name:M("fullname"),address:M("address"),phone:M("phone")})}));break;case"post":p.a.fire({title:"Enter Details",html:'<div id="empty" class="error-text"> </div><span class="swal2-input-label">Title</span><input id="title" class="swal2-input"><span class="swal2-input-label">Content</span><textarea id="post-content" class="swal2-input"></textarea>',showCancelButton:!0,preConfirm:function(){var e=M("title"),t=M("post-content"),a=e.length>0&&t.length>0;return S("empty").innerHTML=a?" ":"Complete all fields",a}}).then((function(e){if(e.isConfirmed){var t=new Date;m({title:M("title"),date:"".concat(t.getFullYear(),"-").concat(t.getMonth().toString().padStart(2,0),"-").concat(t.getDate()),content:M("post-content")})}}))}},children:[f?Object(H.jsx)(E,{}):Object(H.jsx)("img",{src:_,alt:"add",className:"icon"}),Object(H.jsx)("h4",{children:"Add "})]})]}):""}function Y(e){var t=e.selected,a=Object(n.useState)([]),s=Object(c.a)(a,2),i=s[0],r=s[1],l=Object(n.useState)(""),o=Object(c.a)(l,2),p=o[0],h=o[1],f=Object(n.useState)(!1),b=Object(c.a)(f,2),m=b[0],v=b[1],w=Object(n.useState)(0),j=Object(c.a)(w,2),O=j[0],x=j[1],y=Object(n.useState)(!1),k=Object(c.a)(y,2),C=k[0],N=k[1],B=function(){return x((function(e){return e+1}))},A=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=10;break}return console.log("fetch"),v((function(){return!0})),"donation"!==t&&"post"!==t||N((function(){return!1})),e.t0=r,e.next=7,g(t+(C?"_archive":""));case 7:e.t1=e.sent,(0,e.t0)(e.t1),v((function(){return!1}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function P(){var e=[];return""!==p?i.forEach((function(t){(t.name||t.wifeName||t.husbandName||t.title).trim().toLowerCase().includes(p.trim().toLowerCase())&&e.push(D(t))})):e=i.map((function(e){return D(e)})),e}function D(e){return Object(H.jsx)(I,{record:e,selected:t,requestRefresh:B,isArchive:C},e.id)}return Object(n.useEffect)((function(){return A()}),[O,C,t]),Object(H.jsxs)("div",{id:"content",children:[Object(H.jsx)(U,{search:function(e){return h((function(){return e}))},requestRefresh:B,show:""!==t,selected:t,toggleArchive:function(e){return N((function(){return e}))},isArchive:C}),""===t?Object(H.jsx)("h3",{className:"content-message",children:"Nothing Selected"}):m?Object(H.jsx)(F,{}):Object(H.jsx)("div",{className:"content-container",children:P()[0]?P():Object(H.jsx)("h3",{className:"content-message",children:"No Records found"})})]})}a(58);var J=a.p+"static/media/hamburger.2a7fc546.svg";function K(e){var t=e.imagesrc,a=e.label,n=e.isSelected;return Object(H.jsxs)("div",{className:"sidebar-item ".concat(n?"active":""),children:[Object(H.jsx)("img",{src:t,alt:"icon",className:"icon"}),Object(H.jsx)("div",{children:a})]})}a(59);var W=a.p+"static/media/death.e4a73ec5.svg",z=a.p+"static/media/marriage.2e506062.svg",G=a.p+"static/media/donation.ee1bf972.svg",Q=a.p+"static/media/password.0fbccfa5.svg",Z=a.p+"static/media/logout.cadd8c56.svg",X=a.p+"static/media/post.3769af97.svg",V=a.p+"static/media/records.73186168.svg";function $(e){var t=e.selected,a=e.select,s=e.hideSidebar;function i(){try{s()}catch(e){}}var r=Object(n.useState)(!1),l=Object(c.a)(r,2),o=l[0],h=l[1];return Object(H.jsxs)("div",{id:"sidebar",children:[Object(H.jsx)("span",{onClick:function(){return h((function(e){return!e}))},className:"sidebar-item-container",children:Object(H.jsx)(K,{label:"Toggle Records",imagesrc:V,isSelected:o})}),o?Object(H.jsxs)("div",{className:"records-container",children:[Object(H.jsx)("span",{onClick:function(){a("marriage"),i()},className:"sidebar-item-container",children:Object(H.jsx)(K,{label:"Marriage",imagesrc:z,isSelected:"marriage"===t})}),Object(H.jsx)("span",{onClick:function(){a("death"),i()},className:"sidebar-item-container",children:Object(H.jsx)(K,{label:"Death",imagesrc:W,isSelected:"death"===t})}),Object(H.jsx)("span",{onClick:function(){a("donation"),i()},className:"sidebar-item-container",children:Object(H.jsx)(K,{label:"Donation",imagesrc:G,isSelected:"donation"===t})})]}):"",Object(H.jsx)("span",{onClick:function(){a("post"),i()},className:"sidebar-item-container",children:Object(H.jsx)(K,{label:"Post",imagesrc:X,isSelected:"post"===t})}),Object(H.jsx)("span",{onClick:function(){p.a.fire({title:"Change Your Password",showCancelButton:!0,html:'<span class="swal2-input-label">Old Password</span><input id="oldPassword" class="swal2-input" type="password"><span class="swal2-input-label">New Password</span><input id="newPassword" class="swal2-input" type="password"><span class="swal2-input-label">Re-Enter New Password</span><input id="newPassword1" class="swal2-input" type="password"><div id="empty" class="error-text"> </div><div id="notMatched" class="error-text"> </div>',preConfirm:function(){var e=M("oldPassword"),t=M("newPassword"),a=M("newPassword1"),n=e.length>0&&t.length>0&&a.length>0;n||(S("empty").innerHTML="Complete all fields");var s=t===a;return s||(S("notMatched").innerHTML="New Password doesn't match"),n&&s}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=12;break}return e.next=3,P(T("admin"),M("oldPassword"),M("newPassword"));case 3:if(!(a=e.sent).success){e.next=11;break}return e.next=7,R(a.message,"success");case 7:document.cookie="admin=; expires=".concat(new Date),window.location.reload(),e.next=12;break;case 11:R(a.message,"error");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:Object(H.jsx)(K,{label:"Change Password",imagesrc:Q})}),Object(H.jsx)("span",{onClick:function(){p.a.fire({title:"Are you sure you want to logout?",icon:"question",showCancelButton:!0}).then((function(e){e.isConfirmed&&(document.cookie="admin=; expires=".concat(new Date),window.location.reload())}))},children:Object(H.jsx)(K,{label:"Logout",imagesrc:Z})})]})}function ee(e){var t=e.select,a=e.selected;function n(){S("sidebar").style.width="0vw",S("overlay").style.width="0vw"}return Object(H.jsxs)("div",{id:"navbar",children:[Object(H.jsx)("h2",{children:"National Shrine of Our Lady of sorrows"}),Object(H.jsx)("img",{src:J,title:"nav",alt:"nav",className:"icon clickable hamburger",onClick:function(){return S("sidebar").style.width="80vw",void(S("overlay").style.width="100vw")}}),Object(H.jsx)("div",{id:"overlay",onClick:function(){return n()}}),Object(H.jsx)($,{selected:a,select:t,hideSidebar:n})]})}var te=a(36);function ae(e){var t=e.authenticate,a=Object(n.useState)(!1),s=Object(c.a)(a,2),i=s[0],r=s[1],l=Object(n.useState)(!1),o=Object(c.a)(l,2),p=o[0],h=o[1],f=Object(n.useState)(!1),b=Object(c.a)(f,2),m=b[0],g=b[1];function v(){return(v=Object(d.a)(u.a.mark((function e(){var a,n,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g((function(){return!0})),a=M("username"),n=M("password"),!(a.length>0&&n.length>0)){e.next=11;break}return e.next=7,B(a,n);case 7:(s=e.sent)?(g((function(){return!1})),R("Success","success"),p&&((i=new Date).setDate(i.getDate()+3),document.cookie="admin=".concat(s,"; expires=").concat(i,"; SameSite=Lax")),t()):(R("Failed to sign in","error"),g((function(){return!1}))),e.next=13;break;case 11:R("Please Fill All Fields","info"),g((function(){return!1}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(H.jsx)("div",{id:"login",children:Object(H.jsxs)("div",{className:"login-form",children:[Object(H.jsx)("h1",{className:"login-title",children:"Admin Login"}),Object(H.jsxs)("div",{className:"form",children:[Object(H.jsx)("h4",{className:"label",children:"Username"}),Object(H.jsx)("input",{id:"username",type:"text",className:"swal2-input input"}),Object(H.jsx)("h4",{className:"label",children:"Password"}),Object(H.jsx)("input",{id:"password",className:"swal2-input input",type:i?"text":"password"}),Object(H.jsxs)("div",{className:"checkbox",children:[Object(H.jsx)("strong",{className:"label",children:"Show Password"}),Object(H.jsx)("input",{className:"input",type:"checkbox",onChange:function(e){r((function(){return e.target.checked}))}})]}),Object(H.jsxs)("div",{className:"checkbox",children:[Object(H.jsx)("strong",{className:"label",children:"Remember Me"}),Object(H.jsx)("input",{className:"input",type:"checkbox",onChange:function(e){return h((function(){return e.target.checked}))}})]}),Object(H.jsx)("div",{className:"login-button",onClick:function(){return function(){return v.apply(this,arguments)}()},children:m?Object(H.jsx)("h3",{children:Object(H.jsx)(E,{})}):Object(H.jsx)("h3",{children:"LOGIN"})})]})]})})}Object(te.a)({apiKey:"AIzaSyCDZTLgld2lnDQfqwfWekAu-kq3uXEYKAk",authDomain:"church-backend-dbf84.firebaseapp.com",projectId:"church-backend-dbf84",storageBucket:"church-backend-dbf84.appspot.com",messagingSenderId:"538646634207",appId:"1:538646634207:web:e6d2b622a427e27be1d36a",measurementId:"G-65LDJQ1TCK"});var ne=Object(m.f)();function se(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(T("admin").length>0),r=Object(c.a)(i,2),l=r[0],u=r[1],d=function(e){return s((function(){return e}))};return l?Object(H.jsxs)("div",{id:"app",children:[Object(H.jsx)(ee,{selected:a,select:d}),Object(H.jsxs)("main",{children:[Object(H.jsx)($,{selected:a,select:d}),Object(H.jsx)(Y,{selected:a})]})]}):Object(H.jsx)(ae,{authenticate:function(){return u((function(){return!0}))}})}var ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,61)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))};r.a.render(Object(H.jsx)(s.a.StrictMode,{children:Object(H.jsx)(se,{})}),document.getElementById("root")),ie()}},[[60,1,2]]]);
//# sourceMappingURL=main.9a86664f.chunk.js.map