(this.webpackJsonpchurch_information_system=this.webpackJsonpchurch_information_system||[]).push([[0],{36:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(11),s=n.n(a),i=n(37),r=n.n(i),c=(n(43),n(9)),l=(n(44),n(0)),u=n.n(l),d=n(3),o=(n(46),n(13)),p=n.n(o),h=n.p+"static/media/print.70b985ba.svg",f=n.p+"static/media/edit.640a02d0.svg",b=n.p+"static/media/archive.899a083e.svg",m=n.p+"static/media/upload.2a69f0ee.svg",v=n(14),g=n(22);function w(e,t){return j.apply(this,arguments)}function j(){return(j=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(Object(g.b)(we,"".concat(n,"/").concat(t,".pdf")));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n){return x.apply(this,arguments)}function x(){return(x=Object(d.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.c)(Object(g.b)(we,"".concat(a,"/").concat(t,".pdf")),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.a)(Object(g.b)(we,"".concat(n,"/").concat(t,".pdf")));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function C(e){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.e)(Object(v.b)(ge,t));case 2:return n=e.sent,a=[],n.forEach((function(e){var t=e.data();t.id=e.id,a.push(t)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return A.apply(this,arguments)}function A(){return(A=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(v.g)(Object(v.h)(Object(v.b)(ge,t),Object(v.k)("seen","!=",!0)),(function(e){console.log(e.size),n(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dateDocumentAdded=new Date,e.prev=1,e.next=4,Object(v.a)(Object(v.b)(ge,t),n);case 4:a=!0,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a=!1;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function S(e,t,n,a){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(u.a.mark((function e(t,n,a,s){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=7;break}return a.dateDocumentAdded=new Date,e.next=5,Object(v.i)(Object(v.d)(Object(v.b)(ge,t),n),a);case 5:e.next=9;break;case 7:return e.next=9,Object(v.j)(Object(v.d)(Object(v.b)(ge,t),n),a);case 9:i=!0,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),i=!1;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function L(e,t){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.c)(Object(v.d)(Object(v.b)(ge,t),n));case 3:a=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a=!1;case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function T(e,t,n,a){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(u.a.mark((function e(t,n,a,s){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,e.prev=1,e.next=4,P(n,s);case 4:if(!e.sent){e.next=9;break}return e.next=7,L(t,a);case 7:if(!e.sent){e.next=9;break}i=!0;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i=!1;case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function H(e,t){return q.apply(this,arguments)}function q(){return(q=Object(d.a)(u.a.mark((function e(t,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("admins");case 2:a=e.sent,s=0;case 4:if(!(s<a.length)){e.next=10;break}if(a[s].username!==t||a[s].password!==n){e.next=7;break}return e.abrupt("return",a[s].id);case 7:s++,e.next=4;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,n){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(u.a.mark((function e(t,n,a){var s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("admins");case 2:if(s=e.sent,(i=s.find((function(e){return e.id=t}))).password!==n){e.next=15;break}return i.password=a,e.next=8,S("admins",t,i);case 8:if(!e.sent){e.next=12;break}return e.abrupt("return",{success:!0,message:"Password Changed, Please login again"});case 12:return e.abrupt("return",{success:!1,message:"Failed to Update password"});case 13:e.next=16;break;case 15:return e.abrupt("return",{success:!1,message:"Old password didn't match"});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return document.getElementById(e).value}function U(e){return document.getElementById(e)}function z(e,t){return J.apply(this,arguments)}function J(){return(J=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.fire({title:t,icon:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var s=n[a];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""}function W(e){var t=new Date(1970,0,1);return t.setSeconds(e),t}function G(e){var t=e.substring(0,2),n=e.substring(3,5),a=0===parseInt(t)||12===parseInt(t),s=parseInt(t)>=12;return"".concat(a?"12":s?"0".concat(parseInt(t)%12):t,":").concat(n," ").concat(s?"PM":"AM")}n(36);var Q=n(4);function Y(){return Object(Q.jsx)("div",{className:"loader-container",children:Object(Q.jsx)("div",{className:"mini-loader"})})}function Z(){return Object(Q.jsx)("div",{className:"loader"})}function X(e){var t=e.record,n=e.selected,s=e.requestRefresh,i=e.isArchive,r=Object(a.useState)(!1),l=Object(c.a)(r,2),o=l[0],v=l[1],g=Object(a.useState)(!1),j=Object(c.a)(g,2),x=j[0],k=j[1],C=Object(a.useState)(!1),N=Object(c.a)(C,2),B=N[0],A=N[1],P=Object(a.useState)(!1),D=Object(c.a)(P,2),M=D[0],L=D[1];function R(e){return E.apply(this,arguments)}function E(){return E=Object(d.a)(u.a.mark((function e(a){var r,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]&&c[1],v((function(){return!0})),e.next=4,S(n+(i?"_archive":""),t.id,a,r);case 4:if(!e.sent){e.next=9;break}z("Record Updated!","success"),s(),e.next=10;break;case 9:z("Failed to update record","error");case 10:v(!1);case 11:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function H(e){return q.apply(this,arguments)}function q(){return(q=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A((function(){return!0})),e.next=3,O(t.id,a,n+(i?"_archive":""));case 3:A((function(){return!1})),s();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k((function(){return!0})),e.next=3,T(i?"".concat(n,"_archive"):n,i?n:"".concat(n,"_archive"),t.id,t);case 3:if(!e.sent){e.next=8;break}z("Record Archived!","success"),s(),e.next=9;break;case 8:z("Failed to Archive record","error");case 9:k((function(){return!1}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){p.a.fire({title:"Enter Details",html:'<h3>Enter Husband details:</h4><span class="swal2-input-label">Name</span><input id="husbandName" class="swal2-input"><span class="swal2-input-label">Age</span><input id="husbandAge" class="swal2-input" type="number" min="1"><span class="swal2-input-label">Birthday</span><input id="husbandBirthday" class="swal2-input" type="date"><span class="swal2-input-label">Place of Birth</span><input id="husbandPlaceOfBirth" class="swal2-input"><span class="swal2-input-label">Religion</span><input id="husbandReligion" class="swal2-input"><br></br><h3>Enter Wife details:</h4><span class="swal2-input-label">Name</span><input id="wifeName" class="swal2-input"><span class="swal2-input-label">Age</span><input id="wifeAge" class="swal2-input" type="number" min="1"><span class="swal2-input-label">Birthday</span><input id="wifeBirthday" class="swal2-input" type="date"><span class="swal2-input-label">Place of Birth</span><input id="wifePlaceOfBirth" class="swal2-input"><span class="swal2-input-label">Religion</span><input id="wifeReligion" class="swal2-input"><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div><div id="invalidAge" class="error-text"> </div>',didOpen:function(){U("husbandName").value=t.husbandName,U("husbandAge").value=t.husbandAge,U("husbandBirthday").value=t.husbandBirthday,U("husbandPlaceOfBirth").value=t.husbandPlaceOfBirth,U("husbandReligion").value=t.husbandReligion,U("wifeName").value=t.wifeName,U("wifeAge").value=t.wifeAge,U("wifeBirthday").value=t.wifeBirthday,U("wifePlaceOfBirth").value=t.wifePlaceOfBirth,U("wifeReligion").value=t.wifeReligion},preConfirm:function(){U("husbandAge").value=U("husbandAge").value.replace(/[^0-9]/g,""),U("wifeAge").value=U("wifeAge").value.replace(/[^0-9]/g,"");var e=_("husbandName"),n=_("husbandAge"),a=_("husbandBirthday"),s=_("husbandPlaceOfBirth"),i=_("husbandReligion"),r=_("wifeName"),c=_("wifeAge"),l=_("wifeBirthday"),u=_("wifePlaceOfBirth"),d=_("wifeReligion"),o=n.length>0&&c.length>0&&n>0&&c>0;U("invalidAge").innerHTML=o?" ":"Please make sure that the age you entered is a valid number";var p=e.length>0&&n.length>0&&a.length>0&&s.length>0&&i.length>0&&r.length>0&&c.length>0&&l.length>0&&u.length>0&&d.length>0;U("empty").innerHTML=p?" ":"Complete all fields";var h=e===t.husbandName&&n===t.husbandAge&&a===t.husbandBirthday&&s===t.husbandPlaceOfBirth&&i===t.husbandReligion&&r===t.wifeName&&c===t.wifeAge&&l===t.wifeBirthday&&u===t.wifePlaceOfBirth&&d===t.wifeReligion;return U("nothingChanged").innerHTML=h?"Change atleast one value":" ",p&&!h&&o},showCancelButton:!0}).then((function(e){e.isConfirmed&&R({husbandName:_("husbandName"),husbandAge:_("husbandAge"),husbandBirthday:_("husbandBirthday"),husbandPlaceOfBirth:_("husbandPlaceOfBirth"),husbandReligion:_("husbandReligion"),wifeName:_("wifeName"),wifeAge:_("wifeAge"),wifeBirthday:_("wifeBirthday"),wifePlaceOfBirth:_("wifePlaceOfBirth"),wifeReligion:_("wifeReligion")})}))}function J(){p.a.fire({title:"Edit the Schedule",html:'<span class="swal2-input-label">Day</span><input id="day" class="swal2-input" placeholder="sunday"><div id="times">\n        <span class="swal2-input-label">Times</span>\n        </div><div style="margin: 20px">\n          <button id="add-time" class="action-button">add time</button>\n          <button id="remove-time" class="action-button">remove time</button>\n        <div><div id="empty" class="error-text"> </div>',showCancelButton:!0,didOpen:function(){U("add-time").onclick=function(){var e=document.createElement("input");e.classList.add("swal2-input"),e.type="time",U("times").appendChild(e)},U("remove-time").onclick=function(){U("times").lastChild.remove()},U("day").value=t.day;var e=Object.keys(t).filter((function(e){return e.includes("time")}));e.sort((function(e,t){return e.length!==t.length?e.length-t.length:e>t})),e.forEach((function(e){var n=document.createElement("input");n.classList.add("swal2-input"),n.type="time",n.value=function(e){var t=e.split(" "),n=Object(c.a)(t,2),a=n[0],s=n[1],i=a.split(":"),r=Object(c.a)(i,2),l=r[0],u=r[1];return"12"===l&&(l="00"),"PM"===s&&(l=parseInt(l,10)+12),"".concat(l,":").concat(u)}(t[e]),U("times").appendChild(n)}))},preConfirm:function(){var e=_("day").length>0;return document.querySelectorAll("input[type='time']").forEach((function(t){G(t.value).length<8&&(e=!1)})),U("empty").innerHTML=e?" ":"Complete all fields",e}}).then((function(e){if(e.isConfirmed){var t={day:_("day")};document.querySelectorAll("input[type='time']").forEach((function(e){t["time".concat(Object.keys(t).length)]=G(e.value)})),R(t,!0)}}))}return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t.id,n+(i?"_archive":""));case 2:a=e.sent,L((function(){return a}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),["requests","donation"].includes(n.toLowerCase())&&!0!==t.seen&&(console.log("marking seen"),t.seen=!0,S(n,t.id,t))}),[t.id,i,n,t]),Object(Q.jsxs)("div",{className:"content-item",children:[Object(Q.jsx)("div",{className:"record-datas",children:Object.keys(t).sort((function(e,t){return e.length!==t.length?e.length-t.length:e>t})).map((function(e){return"id"!==e&&"dateDocumentAdded"!==e&&"seen"!==e?function(e,t){try{e=(e=e.charAt(0).toUpperCase()+e.slice(1)).match(/[A-Z][a-z]+|[0-9]+/g).join(" ")}catch(n){}return Object(Q.jsxs)("div",{className:"key-value-pair",children:[Object(Q.jsxs)("span",{className:"key",children:[e,":"]}),Object(Q.jsx)("span",{className:"value",children:t})]},e)}(e,t[e]):null}))}),Object(Q.jsx)("span",{children:Object(Q.jsxs)("div",{className:"icons-container",children:["events"!==n&&"donation"!==n?Object(Q.jsx)("div",{className:"icon-container",children:M?Object(Q.jsx)("img",{src:h,title:"print",alt:"",className:"icon",onClick:Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t.id,n+(i?"_archive":""));case 2:a=e.sent,window.open(a);case 4:case"end":return e.stop()}}),e)})))}):""}):"","events"!==n&&"donation"!==n&&"schedule"!==n&&"requests"!==n?Object(Q.jsx)("div",{className:"icon-container",children:B?Object(Q.jsx)(Y,{}):Object(Q.jsx)("img",{src:m,title:"upload",alt:"upload",className:"icon",onClick:Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.fire({title:"Upload Certificate",input:"file",html:"<span id='invalid' class='error-text'></span>",showCancelButton:!0,confirmButtonText:"Upload",showLoaderOnConfirm:!0,allowOutsideClick:function(){return!p.a.isLoading()},preConfirm:function(e){var t="application/pdf"===e.type;return t||(U("invalid").innerHTML="choose a pdf file"),!!t&&e}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConfirmed&&H(t.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))})}):"","requests"!==n&&"donation"!==n?Object(Q.jsx)("div",{className:"icon-container",children:o?Object(Q.jsx)(Y,{}):Object(Q.jsx)("img",{src:f,title:"edit",alt:"",className:"icon",onClick:function(){switch(n){default:F();break;case"death":p.a.fire({title:"Edit Details",html:'<span class="swal2-input-label">Fullname</span><input id="fullname" class="swal2-input"><span class="swal2-input-label" type="date">Day Of Death</span><input id="dayOfDeath" class="swal2-input" type="date"><span class="swal2-input-label">Day Of Birth</span><input id="dayOfBirth" class="swal2-input" type="date"><span class="swal2-input-label">Date Of Mass</span><input id="dateOfMass" class="swal2-input" type="date"><span class="swal2-input-label">Age</span><input id="age" class="swal2-input" type="number" min="1"><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div><div id="invalidAge" class="error-text"> </div>',didOpen:function(){U("fullname").value=t.name,U("dayOfDeath").value=t.dayOfDeath,U("dayOfBirth").value=t.dayOfBirth,U("dateOfMass").value=t.dateOfMass,U("age").value=t.age},preConfirm:function(){U("age").value=U("age").value.replace(/[^0-9]/g,"");var e=_("fullname"),n=_("dayOfBirth"),a=_("dayOfDeath"),s=_("dateOfMass"),i=_("age"),r=i.length>0&&i>0;U("invalidAge").innerHTML=r?" ":"Please make sure that the age you entered is a valid number";var c=e.length>0&&n.length>0&&a.length>0&&s.length>0&&i.length>0;U("empty").innerHTML=c?" ":"Complete all fields";var l=e===t.name&&n===t.dayOfBirth&&a===t.dayOfDeath&&s===t.dateOfMass&&i===t.age;return U("nothingChanged").innerHTML=l?"Change atleast one value":" ",c&&!l&&r},showCancelButton:!0}).then((function(e){if(e.isConfirmed){var t=_("fullname"),n=_("dayOfBirth");R({name:t,dayOfDeath:_("dayOfDeath"),dayOfBirth:n,dateOfMass:_("dateOfMass"),age:_("age")})}}));break;case"donation":p.a.fire({title:"Edit Details",html:'<span class="swal2-input-label">Fullname</span><input id="fullname" class="swal2-input"><span class="swal2-input-label">Address</span><input id="address" class="swal2-input"><span class="swal2-input-label">Phone</span><input id="phone" class="swal2-input" type="tel" pattern="[+]{1}[0-9]{11,14}"><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div><div id="invalidPhone" class="error-text"> </div>',didOpen:function(){U("fullname").value=t.name,U("address").value=t.address,U("phone").value=t.phone},preConfirm:function(){U("phone").value=U("phone").value.replace(/[^0-9]/g,"");var e=_("fullname"),n=_("address"),a=_("phone"),s=11===a.length;U("invalidPhone").innerHTML=s?" ":"Please make sure that the phone number you entered is a valid phone number, Sample: 09xxxxxxxxx";var i=e.length>0&&n.length>0&&a.length>0;U("empty").innerHTML=i?" ":"Complete all fields";var r=e===t.name&&n===t.address&&a===t.phone;return U("nothingChanged").innerHTML=r?"Change atleast one value":" ",i&&!r&&s},showCancelButton:!0}).then((function(e){e.isConfirmed&&R({name:_("fullname"),address:_("address"),phone:_("phone")})}));break;case"events":p.a.fire({title:"Enter Details",html:'<span class="swal2-input-label">Title</span><input id="title" class="swal2-input"><span class="swal2-input-label">Date</span><input id="date" class="swal2-input" type="date"><span class="swal2-input-label">Content</span><textarea id="post-content" class="swal2-input"></textarea><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div>',showCancelButton:!0,didOpen:function(){U("title").value=t.title,U("post-content").value=t.content,U("date").value=t.date},preConfirm:function(){var e=_("title"),n=_("post-content"),a=_("date"),s=e.length>0&&n.length>0&&a.length>0;U("empty").innerHTML=s?" ":"Complete all fields";var i=e===t.title&&n===t.content&&a===t.date;return U("nothingChanged").innerHTML=i?"Change atleast one value":" ",s&&!i}}).then((function(e){e.isConfirmed&&R({title:_("title"),date:_("date"),content:_("post-content")})}));break;case"schedule":J()}}})}):"","events"!==n&&"donation"!==n?Object(Q.jsx)("div",{className:"icon-container",children:x?Object(Q.jsx)(Y,{}):Object(Q.jsx)("img",{src:b,title:"archive",alt:"archive",className:"icon",onClick:function(){return p.a.fire({title:"Are you sure you want to ".concat(i?"un-archive":"archive"," this record?"),icon:"warning",showCancelButton:!0,confirmButtonText:i?"un-archive":"archive"}).then((function(e){e.isConfirmed&&function(){I.apply(this,arguments)}()}))}})}):""]})})]})}var V=n.p+"static/media/add.c687829d.svg";n(59);function $(e){var t=e.toggleArchive;return Object(Q.jsxs)("label",{className:"switch",children:[Object(Q.jsx)("input",{type:"checkbox",onChange:function(e){t(e.target.checked)}}),Object(Q.jsx)("span",{className:"slider round"})]})}function ee(e){var t=e.requestRefresh,n=e.search,s=e.show,i=e.selected,r=e.toggleArchive,l=e.isArchive,o=Object(a.useState)(!1),h=Object(c.a)(o,2),f=h[0],b=h[1];function m(e){return v.apply(this,arguments)}function v(){return(v=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b((function(){return!0})),e.next=3,P(i+(l?"_archive":""),n);case 3:if(!e.sent){e.next=8;break}z("Record Added!","success"),t(),e.next=9;break;case 8:z("Failed to add record","error");case 9:b((function(){return!1}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){p.a.fire({title:"Enter Details",html:'<h3>Enter Husband details:</h4><span class="swal2-input-label">Name</span><input id="husbandName" class="swal2-input"><span class="swal2-input-label">Age</span><input id="husbandAge" class="swal2-input" type="number" min="1"><span class="swal2-input-label">Birthday</span><input id="husbandBirthday" class="swal2-input" type="date"><span class="swal2-input-label">Place of Birth</span><input id="husbandPlaceOfBirth" class="swal2-input"><span class="swal2-input-label">Religion</span><input id="husbandReligion" class="swal2-input"><br></br><h3>Enter Wife details:</h4><span class="swal2-input-label">Name</span><input id="wifeName" class="swal2-input"><span class="swal2-input-label">Age</span><input id="wifeAge" class="swal2-input" type="number" min="1"><span class="swal2-input-label">Birthday</span><input id="wifeBirthday" class="swal2-input" type="date"><span class="swal2-input-label">Place of Birth</span><input id="wifePlaceOfBirth" class="swal2-input"><span class="swal2-input-label">Religion</span><input id="wifeReligion" class="swal2-input"><div id="empty" class="error-text"> </div><div id="invalidAge" class="error-text"> </div>',showCancelButton:!0,preConfirm:function(){U("husbandAge").value=U("husbandAge").value.replace(/[^0-9]/g,""),U("wifeAge").value=U("wifeAge").value.replace(/[^0-9]/g,"");var e=_("husbandName"),t=_("husbandAge"),n=_("husbandBirthday"),a=_("husbandPlaceOfBirth"),s=_("husbandReligion"),i=_("wifeName"),r=_("wifeAge"),c=_("wifeBirthday"),l=_("wifePlaceOfBirth"),u=_("wifeReligion"),d=t.length>0&&r.length>0&&t>0&&r>0;U("invalidAge").innerHTML=d?" ":"Please make sure that the age you entered is a valid number";var o=e.length>0&&t.length>0&&n.length>0&&a.length>0&&s.length>0&&i.length>0&&r.length>0&&c.length>0&&l.length>0&&u.length>0;return U("empty").innerHTML=o?" ":"Complete all fields",o&&d}}).then((function(e){e.isConfirmed&&m({husbandName:_("husbandName"),husbandAge:_("husbandAge"),husbandBirthday:_("husbandBirthday"),husbandPlaceOfBirth:_("husbandPlaceOfBirth"),husbandReligion:_("husbandReligion"),wifeName:_("wifeName"),wifeAge:_("wifeAge"),wifeBirthday:_("wifeBirthday"),wifePlaceOfBirth:_("wifePlaceOfBirth"),wifeReligion:_("wifeReligion")})}))}return s?Object(Q.jsxs)("div",{className:"action-bar",children:["events"!==i?Object(Q.jsxs)("span",{className:"search-bar",children:[Object(Q.jsx)("input",{type:"text",className:"search-field",id:"search-field"}),Object(Q.jsx)("div",{className:"action-button",title:"Search",onClick:function(){return n(document.getElementById("search-field").value)},children:Object(Q.jsx)("h4",{children:"Search"})})]}):"","events"!==i&&"donation"!==i?Object(Q.jsxs)("span",{className:"archive-bar",children:[Object(Q.jsx)($,{toggleArchive:r}),Object(Q.jsx)("h4",{children:"Toggle Archive"})]}):"","donation"!==i&&"requests"!==i?Object(Q.jsxs)("span",{className:"action-button add-record",title:"Add",onClick:function(){switch(i){default:g();break;case"death":p.a.fire({title:"Add Details",html:'<span class="swal2-input-label">Fullname</span><input id="fullname" class="swal2-input"><span class="swal2-input-label">Day Of Death</span><input id="dayOfDeath" class="swal2-input" type="date"><span class="swal2-input-label">Day Of Birth</span><input id="dayOfBirth" class="swal2-input" type="date"><span class="swal2-input-label">Date Of Mass</span><input id="dateOfMass" class="swal2-input" type="date"><span class="swal2-input-label">Age</span><input id="age" class="swal2-input" type="number" min="1"><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div><div id="invalidAge" class="error-text"> </div>',preConfirm:function(){U("age").value=U("age").value.replace(/[^0-9]/g,"");var e=_("fullname"),t=_("dayOfBirth"),n=_("dayOfDeath"),a=_("dateOfMass"),s=_("age"),i=s.length>0&&s>0;U("invalidAge").innerHTML=i?" ":"Please make sure that the age you entered is a valid number";var r=e.length>0&&t.length>0&&n.length>0&&a.length>0&&s.length>0;return U("empty").innerHTML=r?" ":"Complete all fields",r&&i},showCancelButton:!0}).then((function(e){if(e.isConfirmed){var t=_("fullname"),n=_("dayOfBirth");m({name:t,dayOfDeath:_("dayOfDeath"),dayOfBirth:n,dateOfMass:_("dateOfMass"),age:_("age")})}}));break;case"donation":p.a.fire({title:"Edit Details",html:'<span class="swal2-input-label">Fullname</span><input id="fullname" class="swal2-input"><span class="swal2-input-label">Address</span><input id="address" class="swal2-input"><span class="swal2-input-label">Phone</span><input id="phone" class="swal2-input" type="tel"><div id="empty" class="error-text"> </div><div id="nothingChanged" class="error-text"> </div><div id="invalidPhone" class="error-text"> </div>',preConfirm:function(){U("phone").value=U("phone").value.replace(/[^0-9]/g,"");var e=_("fullname"),t=_("address"),n=_("phone"),a=11===n.length;U("invalidPhone").innerHTML=a?"":"Please make sure that the phone number you entered is a valid phone number, Sample: 09xxxxxxxxx";var s=e.length>0&&t.length>0&&n.length>0;return U("empty").innerHTML=s?" ":"Complete all fields",s&&a},showCancelButton:!0}).then((function(e){e.isConfirmed&&m({name:_("fullname"),address:_("address"),phone:_("phone")})}));break;case"events":p.a.fire({title:"Enter Details",html:'<span class="swal2-input-label">Title</span><input id="title" class="swal2-input"><span class="swal2-input-label">Date</span><input id="date" class="swal2-input" type="date"><span class="swal2-input-label">Content</span><textarea id="post-content" class="swal2-input"></textarea><div id="empty" class="error-text"> </div>',showCancelButton:!0,preConfirm:function(){var e=_("title"),t=_("post-content"),n=_("date"),a=e.length>0&&t.length>0&&n.length>0;return U("empty").innerHTML=a?" ":"Complete all fields",a}}).then((function(e){e.isConfirmed&&m({title:_("title"),date:_("date"),content:_("post-content")})}));break;case"schedule":p.a.fire({title:"Create a Schedule",html:'<span class="swal2-input-label">Day</span><input id="day" class="swal2-input" placeholder="sunday"><div id="times">\n        <span class="swal2-input-label">Times</span>\n        <input class="swal2-input" type="time">\n        </div><div style="margin: 20px">\n          <button id="add-time" class="action-button">add time</button>\n          <button id="remove-time" class="action-button">remove time</button>\n        <div><div id="empty" class="error-text"> </div>',showCancelButton:!0,didOpen:function(){U("add-time").onclick=function(){var e=document.createElement("input");e.classList.add("swal2-input"),e.type="time",U("times").appendChild(e)},U("remove-time").onclick=function(){return U("times").removeChild(U("times").lastChild)}},preConfirm:function(){var e=_("day").length>0;return document.querySelectorAll("input[type='time']").forEach((function(t){G(t.value).length<8&&(e=!1)})),U("empty").innerHTML=e?" ":"Complete all fields",e}}).then((function(e){if(e.isConfirmed){var t={day:_("day")};document.querySelectorAll("input[type='time']").forEach((function(e){t["time".concat(Object.keys(t).length)]=G(e.value)})),m(t)}}))}},children:[f?Object(Q.jsx)(Y,{}):Object(Q.jsx)("img",{src:V,alt:"add",className:"icon"}),Object(Q.jsx)("h4",{children:"Add "})]}):Object(Q.jsx)("span",{})]}):""}function te(e){var t=e.selected,n=Object(a.useState)([]),s=Object(c.a)(n,2),i=s[0],r=s[1],l=Object(a.useState)(""),o=Object(c.a)(l,2),p=o[0],h=o[1],f=Object(a.useState)(!1),b=Object(c.a)(f,2),m=b[0],v=b[1],g=Object(a.useState)(0),w=Object(c.a)(g,2),j=w[0],O=w[1],x=Object(a.useState)(!1),y=Object(c.a)(x,2),k=y[0],N=y[1],B=function(){return O((function(e){return e+1}))},A=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=9;break}return v((function(){return!0})),"donation"!==t&&"events"!==t||N((function(){return!1})),e.t0=r,e.next=6,C(t+(k?"_archive":""));case 6:e.t1=e.sent,(0,e.t0)(e.t1),v((function(){return!1}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function P(){var e=[];return i.sort((function(e,t){return W(e.dateDocumentAdded.seconds)<W(t.dateDocumentAdded.seconds)})),""!==p?i.forEach((function(t){(t.name||t.wifeName||t.husbandName||t.title).trim().toLowerCase().includes(p.trim().toLowerCase())&&e.push(D(t))})):e=i.map((function(e){return D(e)})),e}function D(e){return Object(Q.jsx)(X,{record:e,selected:t,requestRefresh:B,isArchive:k},e.id)}return Object(a.useEffect)((function(){return A()}),[j,k,t]),Object(Q.jsxs)("div",{id:"content",children:[Object(Q.jsx)(ee,{search:function(e){return h((function(){return e}))},requestRefresh:B,show:""!==t,selected:t,toggleArchive:function(e){return N((function(){return e}))},isArchive:k}),""===t?Object(Q.jsx)("h3",{className:"content-message",children:"Nothing Selected"}):m?Object(Q.jsx)(Z,{}):Object(Q.jsx)("div",{className:"content-container",children:P()[0]?P():Object(Q.jsx)("h3",{className:"content-message",children:"No Records found"})}),Object(Q.jsx)("div",{className:"background"})]})}n(60);var ne=n.p+"static/media/hamburger.2a7fc546.svg";function ae(e){var t=e.imagesrc,n=e.label,s=e.isSelected,i=Object(a.useState)(0),r=Object(c.a)(i,2),l=r[0],o=r[1];return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n),B(n.toLowerCase(),(function(e){o((function(){return e.size}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}["requests","donation"].includes(n.toLowerCase())&&function(){e.apply(this,arguments)}()}),[n]),Object(Q.jsxs)("div",{className:"sidebar-item ".concat(s?"active":""),children:[l>0?Object(Q.jsx)("span",{className:"badge",children:l}):"",Object(Q.jsx)("img",{src:t,alt:"icon",className:"icon"}),Object(Q.jsx)("div",{children:n})]})}n(61);var se=n.p+"static/media/death.e4a73ec5.svg",ie=n.p+"static/media/marriage.2e506062.svg",re=n.p+"static/media/donation.ee1bf972.svg",ce=n.p+"static/media/password.0fbccfa5.svg",le=n.p+"static/media/logout.cadd8c56.svg",ue=n.p+"static/media/post.3769af97.svg",de=n.p+"static/media/records.73186168.svg",oe=n.p+"static/media/request.bd30798a.svg",pe=n.p+"static/media/church.ab21ef53.svg";function he(e){var t=e.selected,n=e.select,s=e.hideSidebar;function i(){try{s()}catch(e){}}var r=Object(a.useState)(!1),l=Object(c.a)(r,2),o=l[0],h=l[1];return Object(Q.jsxs)("div",{id:"sidebar",children:[Object(Q.jsx)("span",{onClick:function(){return h((function(e){return!e}))},className:"sidebar-item-container",children:Object(Q.jsx)(ae,{label:"Toggle Records",imagesrc:de,isSelected:o})}),o?Object(Q.jsxs)("div",{className:"records-container",children:[Object(Q.jsx)("span",{onClick:function(){n("marriage"),i()},className:"sidebar-item-container",children:Object(Q.jsx)(ae,{label:"Marriage",imagesrc:ie,isSelected:"marriage"===t})}),Object(Q.jsx)("span",{onClick:function(){n("death"),i()},className:"sidebar-item-container",children:Object(Q.jsx)(ae,{label:"Death",imagesrc:se,isSelected:"death"===t})}),Object(Q.jsx)("span",{onClick:function(){n("donation"),i()},className:"sidebar-item-container",children:Object(Q.jsx)(ae,{label:"Donation",imagesrc:re,isSelected:"donation"===t})})]}):"",Object(Q.jsx)("span",{onClick:function(){n("events"),i()},className:"sidebar-item-container",children:Object(Q.jsx)(ae,{label:"Events",imagesrc:ue,isSelected:"events"===t})}),Object(Q.jsx)("span",{onClick:function(){n("requests"),i()},className:"sidebar-item-container",children:Object(Q.jsx)(ae,{label:"Requests",imagesrc:oe,isSelected:"requests"===t})}),Object(Q.jsx)("span",{onClick:function(){n("schedule"),i()},className:"sidebar-item-container",children:Object(Q.jsx)(ae,{label:"Mass Schedule",imagesrc:pe,isSelected:"schedule"===t})}),Object(Q.jsx)("span",{onClick:function(){p.a.fire({title:"Change Your Password",showCancelButton:!0,html:'<span class="swal2-input-label">Old Password</span><input id="oldPassword" class="swal2-input" type="password"><span class="swal2-input-label">New Password</span><input id="newPassword" class="swal2-input" type="password"><span class="swal2-input-label">Re-Enter New Password</span><input id="newPassword1" class="swal2-input" type="password"><div id="empty" class="error-text"> </div><div id="notMatched" class="error-text"> </div>',preConfirm:function(){var e=_("oldPassword"),t=_("newPassword"),n=_("newPassword1"),a=e.length>0&&t.length>0&&n.length>0;a||(U("empty").innerHTML="Complete all fields");var s=t===n;return s||(U("notMatched").innerHTML="New Password doesn't match"),a&&s}}).then(function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=12;break}return e.next=3,I(K("admin"),_("oldPassword"),_("newPassword"));case 3:if(!(n=e.sent).success){e.next=11;break}return e.next=7,z(n.message,"success");case 7:document.cookie="admin=; expires=".concat(new Date),window.location.reload(),e.next=12;break;case 11:z(n.message,"error");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:Object(Q.jsx)(ae,{label:"Change Password",imagesrc:ce})}),Object(Q.jsx)("span",{onClick:function(){p.a.fire({title:"Are you sure you want to logout?",icon:"question",showCancelButton:!0}).then((function(e){e.isConfirmed&&(document.cookie="admin=; expires=".concat(new Date),window.location.reload())}))},children:Object(Q.jsx)(ae,{label:"Logout",imagesrc:le})})]})}function fe(e){var t=e.select,n=e.selected;function a(){U("sidebar").style.width="0vw",U("overlay").style.width="0vw"}return Object(Q.jsxs)("div",{id:"navbar",children:[Object(Q.jsx)("h2",{children:"National Shrine of Our Lady of sorrows"}),Object(Q.jsx)("img",{src:ne,title:"nav",alt:"nav",className:"icon clickable hamburger",onClick:function(){return U("sidebar").style.width="80vw",void(U("overlay").style.width="100vw")}}),Object(Q.jsx)("div",{id:"overlay",onClick:function(){return a()}}),Object(Q.jsx)(he,{selected:n,select:t,hideSidebar:a})]})}var be=n(38);function me(e){var t=e.authenticate,n=Object(a.useState)(!1),s=Object(c.a)(n,2),i=s[0],r=s[1],l=Object(a.useState)(!1),o=Object(c.a)(l,2),p=o[0],h=o[1],f=Object(a.useState)(!1),b=Object(c.a)(f,2),m=b[0],v=b[1];function g(){return(g=Object(d.a)(u.a.mark((function e(){var n,a,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v((function(){return!0})),n=_("username"),a=_("password"),!(n.length>0&&a.length>0)){e.next=11;break}return e.next=7,H(n,a);case 7:(s=e.sent)?(v((function(){return!1})),z("Success","success"),p&&((i=new Date).setDate(i.getDate()+3),document.cookie="admin=".concat(s,"; expires=").concat(i,"; SameSite=Lax")),t()):(z("Failed to sign in","error"),v((function(){return!1}))),e.next=13;break;case 11:z("Please Fill All Fields","info"),v((function(){return!1}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(Q.jsx)("div",{id:"login",children:Object(Q.jsxs)("div",{className:"login-form",children:[Object(Q.jsx)("h1",{className:"login-title",children:"Admin Login"}),Object(Q.jsxs)("div",{className:"form",children:[Object(Q.jsx)("h4",{className:"label",children:"Username"}),Object(Q.jsx)("input",{id:"username",type:"text",className:"swal2-input input"}),Object(Q.jsx)("h4",{className:"label",children:"Password"}),Object(Q.jsx)("input",{id:"password",className:"swal2-input input",type:i?"text":"password"}),Object(Q.jsxs)("div",{className:"checkbox",children:[Object(Q.jsx)("strong",{className:"label",children:"Show Password"}),Object(Q.jsx)("input",{className:"input",type:"checkbox",onChange:function(e){r((function(){return e.target.checked}))}})]}),Object(Q.jsxs)("div",{className:"checkbox",children:[Object(Q.jsx)("strong",{className:"label",children:"Remember Me"}),Object(Q.jsx)("input",{className:"input",type:"checkbox",onChange:function(e){return h((function(){return e.target.checked}))}})]}),Object(Q.jsx)("div",{className:"login-button",onClick:function(){return function(){return g.apply(this,arguments)}()},children:m?Object(Q.jsx)("h3",{children:Object(Q.jsx)(Y,{})}):Object(Q.jsx)("h3",{children:"LOGIN"})})]})]})})}var ve=n(26);Object(be.a)({apiKey:"AIzaSyCDZTLgld2lnDQfqwfWekAu-kq3uXEYKAk",authDomain:"church-backend-dbf84.firebaseapp.com",projectId:"church-backend-dbf84",storageBucket:"church-backend-dbf84.appspot.com",messagingSenderId:"538646634207",appId:"1:538646634207:web:e6d2b622a427e27be1d36a",measurementId:"G-65LDJQ1TCK"});var ge=Object(v.f)(),we=Object(ve.b)();function je(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(K("admin").length>0),r=Object(c.a)(i,2),l=r[0],u=r[1],d=function(e){return s((function(){return e}))};return l?Object(Q.jsxs)("div",{id:"app",children:[Object(Q.jsx)(fe,{selected:n,select:d}),Object(Q.jsxs)("main",{children:[Object(Q.jsx)(he,{selected:n,select:d}),Object(Q.jsx)(te,{selected:n})]})]}):Object(Q.jsx)(me,{authenticate:function(){return u((function(){return!0}))}})}var Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};r.a.render(Object(Q.jsx)(s.a.StrictMode,{children:Object(Q.jsx)(je,{})}),document.getElementById("root")),Oe()}},[[62,1,2]]]);
//# sourceMappingURL=main.37d302d5.chunk.js.map